import{b as r}from"./init.e2c43348.js";console.log("Script started successfully");let o,t;WA.onInit().then(()=>{WA.state.closeWebsite=!1,console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),WA.room.onEnterLayer("clockZone").subscribe(()=>{const e=new Date,i=e.getHours()+":"+e.getMinutes();o=WA.ui.openPopup("clockPopup","It's "+i,[])}),WA.room.onEnterLayer("formConfessionnal").subscribe(async()=>{c(),WA.room.onLeaveLayer("formConfessionnal").subscribe(()=>{s()})}),WA.state.onVariableChange("closeWebsite").subscribe(()=>{WA.state.closeWebsite===!0&&(s(),WA.player.tags.push("validated"))}),WA.room.onLeaveLayer("clockZone").subscribe(n),r().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}).catch(e=>console.error(e));const c=async()=>{t=await WA.ui.website.open({url:"http://localhost:3000/reveal",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"},allowApi:!0})},s=()=>{t!==void 0&&(t.close(),t=void 0)};function n(){o!==void 0&&(o.close(),o=void 0)}

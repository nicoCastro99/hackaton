import{b as s}from"./init.e2c43348.js";import{U as i}from"./user-service.28cf6594.js";import"./settings-service.64186e45.js";let o;WA.onInit().then(()=>{new i().getAll().then(e=>{console.log(e)}).catch(e=>{console.log(e)}),WA.state.closeWebsite=!1,WA.room.onEnterLayer("door-zone").subscribe(()=>{WA.player.tags.includes("validated")?WA.state.door=!0:(WA.controls.disablePlayerControls(),WA.player.moveTo(500,350,10),setTimeout(()=>{WA.controls.restorePlayerControls()},1e3))}),WA.room.onEnterLayer("secret-zone").subscribe(()=>{a()}),WA.room.onLeaveLayer("secret-zone").subscribe(()=>{r()}),WA.state.onVariableChange("closeWebsite").subscribe(()=>{WA.state.closeWebsite===!0&&(r(),WA.player.tags.push("validated"))}),s().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e))}).catch(t=>console.error(t));const a=async()=>{o=await WA.ui.website.open({url:"https://hackaton-app.ncastro.fr/register",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"},allowApi:!0})},r=()=>{o!==void 0&&(o.close(),o=void 0)};
